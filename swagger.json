{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/api/v1/confirmed-recipients":{"post":{"tags":["confirmation-controller"],"operationId":"confirmRecipient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmRecipientDTO"}}}},"responses":{"200":{"description":"default response"}}}},"/api/v1/messages/{id}":{"get":{"tags":["message-controller"],"operationId":"findById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}}}},"patch":{"tags":["message-controller"],"operationId":"partialUpdate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMessageDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}}}}},"/api/v1/messages/provider-external/{id}":{"patch":{"tags":["message-controller"],"operationId":"partialUpdateByExternalProviderId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMessageByProviderExternalIdDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDTO"}}}}}}},"/api/v1/messages":{"post":{"tags":["message-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMessageDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}}}}},"/api/v1/packages":{"post":{"tags":["package-controller"],"operationId":"createPackage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackageDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PackageResponseDTO"}}}}}}},"/api/v1/templates/{id}":{"get":{"tags":["template-controller"],"operationId":"getById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TemplateDTO"}}}}}},"patch":{"tags":["template-controller"],"operationId":"update","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTemplateDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TemplateDTO"}}}}}}},"/api/v1/templates/findByName":{"get":{"tags":["template-controller"],"operationId":"findByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TemplateDTO"}}}}}}},"/api/v1/templates":{"get":{"tags":["template-controller"],"operationId":"getAll","parameters":[{"name":"group_id","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListTemplateDTO"}}}}}}},"post":{"tags":["template-controller"],"operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTemplateDTO"}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TemplateDTO"}}}}}}},"/public/u/{token}":{"get":{"tags":["unsubscribe-controller"],"operationId":"create_2","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RedirectView"}}}}}}}},"components":{"schemas":{"ConfirmRecipientDTO":{"required":["code","recipient"],"type":"object","properties":{"recipient":{"type":"string"},"code":{"type":"string"}}},"MessageEntity":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"package_id":{"type":"integer","format":"int32"},"status_id":{"type":"integer","format":"int32"},"recipient":{"type":"string"},"client_id":{"type":"integer","format":"int32"},"policy_number":{"type":"string"},"params":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"content":{"type":"string"},"external_id":{"type":"string"},"files":{"type":"string"},"subject":{"type":"string"},"status_description":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"copies":{"type":"string"},"hidden_copies":{"type":"string"},"unsubscribe_token":{"type":"string"},"unsubscribed_at":{"type":"string","format":"date-time"},"unsubscribe_link":{"type":"string"},"provider_external_id":{"type":"string"},"sqs_message_id":{"type":"string"}}},"CreateMessageDTO":{"required":["package_id","recipient","status_name"],"type":"object","properties":{"package_id":{"type":"integer","format":"int32"},"recipient":{"type":"string"},"client_id":{"type":"integer","format":"int32"},"policy_number":{"type":"string"},"params":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"content":{"type":"string"},"external_id":{"type":"string"},"files":{"type":"string"},"subject":{"type":"string"},"status_description":{"type":"string"},"copies":{"type":"string"},"hidden_copies":{"type":"string"},"unsubscribe_token":{"type":"string"},"unsubscribed_at":{"type":"string","format":"date-time"},"unsubscribe_link":{"type":"string"},"provider_external_id":{"type":"string"},"status_name":{"type":"string"},"sqs_message_id":{"type":"string"}}},"UpdateMessageByProviderExternalIdDTO":{"type":"object","properties":{"recipient":{"type":"string"},"client_id":{"type":"integer","format":"int32"},"policy_number":{"type":"string"},"params":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"content":{"type":"string"},"external_id":{"type":"string"},"files":{"type":"string"},"subject":{"type":"string"},"status_name":{"type":"string"},"status_description":{"type":"string"},"copies":{"type":"string"},"hidden_copies":{"type":"string"},"unsubscribe_token":{"type":"string"},"unsubscribed_at":{"type":"string","format":"date-time"},"unsubscribe_link":{"type":"string"}}},"MessageDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"package_id":{"type":"integer","format":"int32"},"recipient":{"type":"string"},"client_id":{"type":"integer","format":"int32"},"policy_number":{"type":"string"},"params":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"content":{"type":"string"},"external_id":{"type":"string"},"files":{"type":"string"},"subject":{"type":"string"},"copies":{"type":"string"},"hidden_copies":{"type":"string"},"unsubscribe_token":{"type":"string"},"unsubscribed_at":{"type":"string","format":"date-time"},"unsubscribe_link":{"type":"string"},"provider_external_id":{"type":"string"},"status_description":{"type":"string"},"status_name":{"type":"string"},"sqs_message_id":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"ContentDTO":{"required":["recipients"],"type":"object","properties":{"recipients":{"type":"array","items":{"type":"string"}},"client_id":{"type":"integer","format":"int32"},"policy_number":{"type":"string"},"params":{"type":"array","items":{"$ref":"#/components/schemas/ParamDTO"}},"files":{"type":"array","items":{"$ref":"#/components/schemas/FileDTO"}},"copies":{"type":"array","items":{"type":"string"}},"hidden_copies":{"type":"array","items":{"type":"string"}},"external_id":{"type":"string"}}},"FileDTO":{"type":"object","properties":{"uuid":{"type":"string","format":"uuid"},"replace_name":{"type":"string"}}},"PackageDTO":{"required":["content","template"],"type":"object","properties":{"template":{"type":"string"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ContentDTO"}},"sent_at":{"type":"string","format":"date-time"}}},"ParamDTO":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}},"PackageResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"}}},"TemplateDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"default_settings":{"type":"integer","format":"int32"},"description":{"type":"string"},"body":{"type":"string"},"active":{"type":"boolean"},"subject":{"type":"string"},"unsubscribe":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"template_group_id":{"type":"integer","format":"int32"}}},"ListTemplateDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"default_settings":{"type":"integer","format":"int32"},"description":{"type":"string"},"active":{"type":"boolean"},"subject":{"type":"string"},"unsubscribe":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"template_group_id":{"type":"integer","format":"int32"}}},"UpdateTemplateDTO":{"type":"object","properties":{"default_settings":{"type":"integer","format":"int32"},"template_group_id":{"type":"integer","format":"int32"},"name":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"active":{"type":"boolean"},"subject":{"type":"string"},"unsubscribe":{"type":"boolean"}}},"CreateTemplateDTO":{"required":["body","default_settings","name"],"type":"object","properties":{"name":{"type":"string"},"default_settings":{"type":"integer","format":"int32"},"body":{"type":"string"},"description":{"type":"string"},"active":{"type":"boolean"},"subject":{"type":"string"},"unsubscribe":{"type":"boolean"},"template_group_id":{"type":"integer","format":"int32"}}},"ApplicationContext":{"type":"object","properties":{"autowire_capable_bean_factory":{"$ref":"#/components/schemas/AutowireCapableBeanFactory"},"application_name":{"type":"string"},"startup_date":{"type":"integer","format":"int64"},"display_name":{"type":"string"},"parent":{"$ref":"#/components/schemas/ApplicationContext"},"id":{"type":"string"},"environment":{"$ref":"#/components/schemas/Environment"},"bean_definition_count":{"type":"integer","format":"int32"},"bean_definition_names":{"type":"array","items":{"type":"string"}},"parent_bean_factory":{"$ref":"#/components/schemas/BeanFactory"},"class_loader":{"type":"object","properties":{"parent":{"type":"object","properties":{"name":{"type":"string"},"unnamed_module":{"type":"object","properties":{"layer":{"type":"object"},"name":{"type":"string"},"descriptor":{"type":"object","properties":{"open":{"type":"boolean"},"automatic":{"type":"boolean"}}},"class_loader":{"type":"object","properties":{"name":{"type":"string"},"defaultAssertionStatus":{"type":"boolean","writeOnly":true},"registered_as_parallel_capable":{"type":"boolean"},"defined_packages":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"specification_title":{"type":"string"},"specification_version":{"type":"string"},"specification_vendor":{"type":"string"},"implementation_title":{"type":"string"},"implementation_version":{"type":"string"},"implementation_vendor":{"type":"string"},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"sealed":{"type":"boolean"}}}}}},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"named":{"type":"boolean"},"packages":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"defaultAssertionStatus":{"type":"boolean","writeOnly":true},"registered_as_parallel_capable":{"type":"boolean"},"defined_packages":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"specification_title":{"type":"string"},"specification_version":{"type":"string"},"specification_vendor":{"type":"string"},"implementation_title":{"type":"string"},"implementation_version":{"type":"string"},"implementation_vendor":{"type":"string"},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"sealed":{"type":"boolean"}}}}}},"name":{"type":"string"},"unnamed_module":{"type":"object","properties":{"layer":{"type":"object"},"name":{"type":"string"},"descriptor":{"type":"object","properties":{"open":{"type":"boolean"},"automatic":{"type":"boolean"}}},"class_loader":{"type":"object","properties":{"name":{"type":"string"},"defaultAssertionStatus":{"type":"boolean","writeOnly":true},"registered_as_parallel_capable":{"type":"boolean"},"defined_packages":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"specification_title":{"type":"string"},"specification_version":{"type":"string"},"specification_vendor":{"type":"string"},"implementation_title":{"type":"string"},"implementation_version":{"type":"string"},"implementation_vendor":{"type":"string"},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"sealed":{"type":"boolean"}}}}}},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"named":{"type":"boolean"},"packages":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"defaultAssertionStatus":{"type":"boolean","writeOnly":true},"registered_as_parallel_capable":{"type":"boolean"},"defined_packages":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"specification_title":{"type":"string"},"specification_version":{"type":"string"},"specification_vendor":{"type":"string"},"implementation_title":{"type":"string"},"implementation_version":{"type":"string"},"implementation_vendor":{"type":"string"},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"sealed":{"type":"boolean"}}}}}}}},"AutowireCapableBeanFactory":{"type":"object"},"BeanFactory":{"type":"object"},"Environment":{"type":"object","properties":{"active_profiles":{"type":"array","items":{"type":"string"}},"default_profiles":{"type":"array","items":{"type":"string"}}}},"RedirectView":{"type":"object","properties":{"application_context":{"$ref":"#/components/schemas/ApplicationContext"},"servletContext":{"type":"object","properties":{"default_session_tracking_modes":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["COOKIE","URL","SSL"]}},"effective_session_tracking_modes":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["COOKIE","URL","SSL"]}},"jsp_config_descriptor":{"type":"object","properties":{"jsp_property_groups":{"type":"array","items":{"type":"object","properties":{"default_content_type":{"type":"string"},"url_patterns":{"type":"array","items":{"type":"string"}},"el_ignored":{"type":"string"},"scripting_invalid":{"type":"string"},"page_encoding":{"type":"string"},"is_xml":{"type":"string"},"include_preludes":{"type":"array","items":{"type":"string"}},"include_codas":{"type":"array","items":{"type":"string"}},"deferred_syntax_allowed_as_literal":{"type":"string"},"trim_directive_whitespaces":{"type":"string"},"error_on_undeclared_namespace":{"type":"string"},"buffer":{"type":"string"}}}},"taglibs":{"type":"array","items":{"type":"object","properties":{"taglib_uri":{"type":"string"},"taglib_location":{"type":"string"}}}}}},"virtual_server_name":{"type":"string"},"session_timeout":{"type":"integer","format":"int32"},"request_character_encoding":{"type":"string"},"response_character_encoding":{"type":"string"},"servlet_registrations":{"type":"object","additionalProperties":{"type":"object","properties":{"mappings":{"type":"array","items":{"type":"string"}},"run_as_role":{"type":"string"},"init_parameters":{"type":"object","additionalProperties":{"type":"string"}},"name":{"type":"string"},"class_name":{"type":"string"}}}},"filter_registrations":{"type":"object","additionalProperties":{"type":"object","properties":{"servlet_name_mappings":{"type":"array","items":{"type":"string"}},"url_pattern_mappings":{"type":"array","items":{"type":"string"}},"init_parameters":{"type":"object","additionalProperties":{"type":"string"}},"name":{"type":"string"},"class_name":{"type":"string"}}}},"session_cookie_config":{"type":"object","properties":{"secure":{"type":"boolean"},"domain":{"type":"string"},"http_only":{"type":"boolean"},"path":{"type":"string"},"max_age":{"type":"integer","format":"int32"},"comment":{"type":"string"},"name":{"type":"string"}}},"sessionTrackingModes":{"uniqueItems":true,"type":"array","writeOnly":true,"items":{"type":"string","enum":["COOKIE","URL","SSL"]}},"context_path":{"type":"string"},"effective_major_version":{"type":"integer","format":"int32"},"effective_minor_version":{"type":"integer","format":"int32"},"servlets":{"type":"object"},"servlet_names":{"type":"object"},"server_info":{"type":"string"},"init_parameter_names":{"type":"object"},"attribute_names":{"type":"object"},"servlet_context_name":{"type":"string"},"major_version":{"type":"integer","format":"int32"},"minor_version":{"type":"integer","format":"int32"},"class_loader":{"type":"object","properties":{"name":{"type":"string"},"defaultAssertionStatus":{"type":"boolean","writeOnly":true},"registered_as_parallel_capable":{"type":"boolean"},"defined_packages":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"specification_title":{"type":"string"},"specification_version":{"type":"string"},"specification_vendor":{"type":"string"},"implementation_title":{"type":"string"},"implementation_version":{"type":"string"},"implementation_vendor":{"type":"string"},"annotations":{"type":"array","items":{"type":"object"}},"declared_annotations":{"type":"array","items":{"type":"object"}},"sealed":{"type":"boolean"}}}}}}},"writeOnly":true},"content_type":{"type":"string"},"request_context_attribute":{"type":"string"},"static_attributes":{"type":"object","additionalProperties":{"type":"object"}},"expose_path_variables":{"type":"boolean"},"exposeContextBeansAsAttributes":{"type":"boolean","writeOnly":true},"exposedContextBeanNames":{"type":"array","writeOnly":true,"items":{"type":"string"}},"bean_name":{"type":"string"},"url":{"type":"string"},"contextRelative":{"type":"boolean","writeOnly":true},"http10Compatible":{"type":"boolean","writeOnly":true},"exposeModelAttributes":{"type":"boolean","writeOnly":true},"encodingScheme":{"type":"string","writeOnly":true},"statusCode":{"type":"string","writeOnly":true,"enum":["CONTINUE","SWITCHING_PROTOCOLS","PROCESSING","CHECKPOINT","OK","CREATED","ACCEPTED","NON_AUTHORITATIVE_INFORMATION","NO_CONTENT","RESET_CONTENT","PARTIAL_CONTENT","MULTI_STATUS","ALREADY_REPORTED","IM_USED","MULTIPLE_CHOICES","MOVED_PERMANENTLY","FOUND","MOVED_TEMPORARILY","SEE_OTHER","NOT_MODIFIED","USE_PROXY","TEMPORARY_REDIRECT","PERMANENT_REDIRECT","BAD_REQUEST","UNAUTHORIZED","PAYMENT_REQUIRED","FORBIDDEN","NOT_FOUND","METHOD_NOT_ALLOWED","NOT_ACCEPTABLE","PROXY_AUTHENTICATION_REQUIRED","REQUEST_TIMEOUT","CONFLICT","GONE","LENGTH_REQUIRED","PRECONDITION_FAILED","PAYLOAD_TOO_LARGE","REQUEST_ENTITY_TOO_LARGE","URI_TOO_LONG","REQUEST_URI_TOO_LONG","UNSUPPORTED_MEDIA_TYPE","REQUESTED_RANGE_NOT_SATISFIABLE","EXPECTATION_FAILED","I_AM_A_TEAPOT","INSUFFICIENT_SPACE_ON_RESOURCE","METHOD_FAILURE","DESTINATION_LOCKED","UNPROCESSABLE_ENTITY","LOCKED","FAILED_DEPENDENCY","TOO_EARLY","UPGRADE_REQUIRED","PRECONDITION_REQUIRED","TOO_MANY_REQUESTS","REQUEST_HEADER_FIELDS_TOO_LARGE","UNAVAILABLE_FOR_LEGAL_REASONS","INTERNAL_SERVER_ERROR","NOT_IMPLEMENTED","BAD_GATEWAY","SERVICE_UNAVAILABLE","GATEWAY_TIMEOUT","HTTP_VERSION_NOT_SUPPORTED","VARIANT_ALSO_NEGOTIATES","INSUFFICIENT_STORAGE","LOOP_DETECTED","BANDWIDTH_LIMIT_EXCEEDED","NOT_EXTENDED","NETWORK_AUTHENTICATION_REQUIRED"]},"expandUriTemplateVariables":{"type":"boolean","writeOnly":true},"propagateQueryParams":{"type":"boolean","writeOnly":true},"hosts":{"type":"array","items":{"type":"string"}},"redirect_view":{"type":"boolean"},"propagate_query_properties":{"type":"boolean"},"attributes_map":{"type":"object","additionalProperties":{"type":"object"}},"attributesCSV":{"type":"string","writeOnly":true},"attributes":{"type":"object","additionalProperties":{"type":"string"},"writeOnly":true}}}}}}
